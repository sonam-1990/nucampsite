/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(){function b(){}function d(b,c){for(var a=b.length;a--;)if(b[a].listener===c)return a;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype,e=this,f=e.EventEmitter;a.getListeners=function(c){var d,a,b=this._getEvents();if("object"==typeof c){d={};for(a in b)b.hasOwnProperty(a)&&c.test(a)&&(d[a]=b[a])}else d=b[c]||(b[c]=[]);return d},a.flattenListeners=function(b){var a,c=[];for(a=0;b.length>a;a+=1)c.push(b[a].listener);return c},a.getListenersAsObject=function(c){var a,b=this.getListeners(c);return b instanceof Array&&(a={},a[c]=b),a||b},a.addListener=function(e,a){var b,c=this.getListenersAsObject(e),f="object"==typeof a;for(b in c)c.hasOwnProperty(b)&&-1===d(c[b],a)&&c[b].push(f?a:{listener:a,once:!1});return this},a.on=c("addListener"),a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},a.once=c("addOnceListener"),a.defineEvent=function(a){return this.getListeners(a),this},a.defineEvents=function(b){for(var a=0;b.length>a;a+=1)this.defineEvent(b[a]);return this},a.removeListener=function(e,f){var c,a,b=this.getListenersAsObject(e);for(a in b)b.hasOwnProperty(a)&&(c=d(b[a],f),-1!==c&&b[a].splice(c,1));return this},a.off=c("removeListener"),a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},a.manipulateListeners=function(d,b,e){var a,c,f=d?this.removeListener:this.addListener,g=d?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(a=e.length;a--;)f.call(this,b,e[a]);else for(a in b)b.hasOwnProperty(a)&&(c=b[a])&&("function"==typeof c?f.call(this,a,c):g.call(this,a,c));return this},a.removeEvent=function(c){var a,d=typeof c,b=this._getEvents();if("string"===d)delete b[c];else if("object"===d)for(a in b)b.hasOwnProperty(a)&&c.test(a)&&delete b[a];else delete this._events;return this},a.removeAllListeners=c("removeEvent"),a.emitEvent=function(e,g){var a,d,c,f,b=this.getListenersAsObject(e);for(c in b)if(b.hasOwnProperty(c))for(d=b[c].length;d--;)a=b[c][d],a.once===!0&&this.removeListener(e,a.listener),f=a.listener.apply(this,g||[]),f===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},a.trigger=c("emitEvent"),a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},b.noConflict=function(){return e.EventEmitter=f,b},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this),function(e){var a,b,c,d;function f(b){var a=e.event;return a.target=a.target||a.srcElement||b,a}a=document.documentElement,b=function(){},a.addEventListener?b=function(a,b,c){a.addEventListener(b,c,!1)}:a.attachEvent&&(b=function(a,c,b){a[c+b]=b.handleEvent?function(){var c=f(a);b.handleEvent.call(b,c)}:function(){var c=f(a);b.call(a,c)},a.attachEvent("on"+c,a[c+b])}),c=function(){},a.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:a.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}}),d={bind:b,unbind:c},"function"==typeof define&&define.amd?define("eventie/eventie",d):e.eventie=d}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(l,f,d){var c,g,j,k,h;function i(a,b){for(var c in b)a[c]=b[c];return a}function n(a){return"[object Array]"===k.call(a)}function m(a){var b=[],c,d;if(n(a))b=a;else if("number"==typeof a.length)for(c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function a(b,d,e){if(!(this instanceof a))return new a(b,d);"string"==typeof b&&(b=document.querySelectorAll(b)),this.elements=m(b),this.options=i({},this.options),"function"==typeof d?e=d:i(this.options,d),e&&this.on("always",e),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var f=this;setTimeout(function(){f.check()})}function e(a){this.img=a}function b(a){this.src=a,h[a]=this}return c=l.jQuery,g=l.console,j=g!==void 0,k=Object.prototype.toString,a.prototype=new f,a.prototype.options={},a.prototype.getImages=function(){var c,f,a,b,e,d,g,h;this.images=[];for(c=0,f=this.elements.length;f>c;c++)if(a=this.elements[c],"IMG"===a.nodeName&&this.addImage(a),b=a.nodeType,b&&(1===b||9===b||11===b))for(e=a.querySelectorAll("img"),d=0,g=e.length;g>d;d++)h=e[d],this.addImage(h)},a.prototype.addImage=function(a){var b=new e(a);this.images.push(b)},a.prototype.check=function(){var a,d,b,c,e;function f(c,e){return a.options.debug&&j&&g.log("confirm",c,e),a.progress(c),d++,d===b&&a.complete(),!0}if(a=this,d=0,b=this.images.length,this.hasAnyBroken=!1,!b)return this.complete(),void 0;for(c=0;b>c;c++)e=this.images[c],e.on("confirm",f),e.check()},a.prototype.progress=function(b){this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,b),a.jqDeferred&&a.jqDeferred.notify&&a.jqDeferred.notify(a,b)})},a.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done",a;this.isComplete=!0,a=this,setTimeout(function(){if(a.emit(b,a),a.emit("always",a),a.jqDeferred){var c=a.hasAnyBroken?"reject":"resolve";a.jqDeferred[c](a)}})},c&&(c.fn.imagesLoaded=function(b,d){var e=new a(this,b,d);return e.jqDeferred.promise(c(this))}),e.prototype=new f,e.prototype.check=function(){var a=h[this.img.src]||new b(this.img.src),c;if(a.isConfirmed)return this.confirm(a.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;c=this,a.on("confirm",function(a,b){return c.confirm(a.isLoaded,b),!0}),a.check()},e.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)},h={},b.prototype=new f,b.prototype.check=function(){if(!this.isChecked){var a=new Image;d.bind(a,"load",this),d.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},b.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},b.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},b.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},b.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},b.prototype.unbindProxyEvents=function(a){d.unbind(a.target,"load",this),d.unbind(a.target,"error",this)},a}),function(a){"use strict";var c=function(){var h=a(window).height(),l=spuvar.is_admin,i=spuvar.is_preview,d=[];a(".spu-content").children().first().css({"margin-top":0,"padding-top":0}).end().last().css({'margin-bottom':0,'padding-bottom':0}),a(".spu-box").each(function(){var f=a(this),n,k,F,g,x,I,t,G,C,q,v,w,o,r,B,z,A,s,u,D,H,m,p,E,y;(f.hasClass('spu-top-bar')||f.hasClass('spu-bottom-bar'))&&(f.prependTo('body'),f.hasClass('spu-top-bar')&&a('#wpadminbar').length&&f.css('top','32px')),n=f.data('trigger'),k=0,F=parseInt(f.data('test-mode'))===1,g=f.data('box-id'),x=parseInt(f.data('auto-hide'))===1,I=parseInt(f.data('seconds-close')),t=parseInt(f.data('trigger-number'),10),G=n=='percentage'?parseInt(f.data('trigger-number'),10)/100:.8,C=G*a(document).height(),j(f),q=f.find('iframe'),q&&q.length&&q.each(function(){a(this).attr('spusrc',a(this).attr('src')),a(this).attr('src','http://#')}),f.on('click','a:not(".spu-close-popup, .flp_wrapper a, .spu-not-close, .spu-not-close a")',function(){c(g,!1,!0)}),f.on('click','.spu-close-convert,.spu-close-convert a',function(a){a.preventDefault(),c(g,!1,!0)}),a(document).keyup(function(a){a.keyCode==27&&c(g,!1,!1)}),v=navigator.userAgent,w=v.match(/iPad/i)||v.match(/iPhone/i)?"touchstart":"click",a('body').on(w,function(d){var b=a(d.target);if(b.is('input.nf-element'))return;d.originalEvent!==void 0&&!(a.contains(f,b)&&b.is('input'))&&!f.hasClass('spu-top-bar')&&!f.hasClass('spu-bottom-bar')&&c(g,!1,!1)}),a('body').on(w,'.spu-box,.spu-clickable',function(a){a.stopPropagation()}),f.hide().css('left','').css('right',''),d[g]=f,o=function(){k&&clearTimeout(k),k=window.setTimeout(function(){var b=a(window).scrollTop(),d=b+h>=C;d?(x||a(window).unbind('scroll',o),c(g,!0,!1)):c(g,!1,!1)},100)},r=function(){k&&clearTimeout(k),k=window.setTimeout(function(){var b=a(window).scrollTop(),d=b>=t;d?(x||a(window).unbind('scroll',r),c(g,!0,!1)):c(g,!1,!1)},100)},B=function(){k&&clearTimeout(k),k=window.setTimeout(function(){c(g,!0,!1)},t*1e3)},z=f.data('nclose-cookie'),A=f.data('nconvert-cookie'),s=e(z),u=e(A),((s==void 0||s=='')&&(u==void 0||u=='')||l&&F||i)&&(n=='seconds'&&B(),n=='percentage'&&(a(window).bind('scroll',o),o()),n=='pixels'&&(a(window).bind('scroll',r),r()),window.location.hash&&window.location.hash.length>0&&(D=window.location.hash,D.substring(1)===f.attr('id')&&setTimeout(function(){c(g,!0,!1)},100))),f.on('click','.spu-close-popup',function(){c(g,!1,!1),n=='percentage'&&a(window).unbind('scroll',o)}),a(document.body).on('click','a[href="#spu-'+g+'"], .spu-open-'+g,function(a){a.preventDefault(),c(g,!0,!1)}),a('a[href="#spu-'+g+'"], .spu-open-'+g).css('cursor','pointer').addClass('spu-clickable'),f.find('.gform_wrapper form').addClass('gravity-form'),f.find('.mc4wp-form form').addClass('mc4wp-form'),f.find('.newsletter form').addClass('newsletter-form'),m=f.find('form'),m.length&&(m.is(".newsletter-form, .wpcf7-form, .gravity-form, .infusion-form, .widget_wysija, .ninja-forms-form")||(p=m.attr('action'),E=new RegExp(spuvar.site_url,"i"),p&&p.length&&(E.test(p)||m.addClass('spu-disable-ajax'))),a('.spu-disable-ajax form').length&&a('.spu-disable-ajax form').addClass('spu-disable-ajax'),f.on('submit','form.spu-disable-ajax:not(".flp_form")',function(){f.trigger('spu.form_submitted',[g]),c(g,!1,!0)}),f.on('submit','form:not(".newsletter-form, .wpcf7-form, .gravity-form, .infusion-form, .spu-disable-ajax, .widget_wysija, .ninja-forms-form, .flp_form")',function(l){l.preventDefault();var i=!0,d=a(this),h=d.find('input[type="submit"]'),j=h?h.attr('name')+'='+h.val():'button=send',k=d.serialize()+"&"+j,e=d.find('input[name="_wp_http_referer"]'),m=e&&e.val()!==void 0?spuvar.site_url+e.val():window.location.href,n=d.attr('action')?d.attr('action'):m,o=d.hasClass('mc4wp-form')?spuvar.site_url+'/':n,p=function(c,a,b){console.log('Spu Form error: '+a+' - '+b)},q=function(b){var d=a(b).filter('#spu-'+g).html();a('#spu-'+g).html(d),a('#spu-'+g).find('.mc4wp-alert').length||setTimeout(function(){c(g,!1,!0)},spuvar.seconds_confirmation_close*1e3)};return b(k,o,q,p,'html'),f.trigger('spu.form_submitted',[g]),i}),a(document).on('wpcf7mailsent',function(){f.trigger('spu.form_submitted',[g]),c(g,!1,!0)}),m.hasClass('gravity-form')&&m.attr('action',window.location.href),a(document).on('gform_confirmation_loaded',function(){f.trigger('spu.form_submitted',[g]),c(g,!1,!0)}),f.on('submit','.infusion-form',function(a){a.preventDefault(),f.trigger('spu.form_submitted',[g]),c(g,!1,!0),this.submit()}),f.on('submit','.newsletter-form',function(a){a.preventDefault(),f.trigger('spu.form_submitted',[g]),c(g,!1,!0),this.submit()}),a('body').on('submitResponse.default',function(){f.trigger('spu.form_submitted',[g]),c(g,!1,!0)})),y=f.find('.nf-form-cont'),y.length&&a(document).on('nfFormSubmitResponse',function(){f.trigger('spu.form_submitted',[g]),setTimeout(function(){c(g,!1,!0)},spuvar.seconds_confirmation_close*1e3)})});function f(j){var b=d[j],h=a(window).width(),i=a(window).height(),f=b.outerHeight(),k=b.outerWidth(),l=b.data('width'),g=0,c=i/2-f/2,e='fixed',m=a(document).scrollTop();b.hasClass('spu-centered')&&(l<h&&(g=h/2-k/2),b.css({left:g,position:e,top:c})),f+50>i&&(e='absolute',c=m,b.css({position:e,top:c,bottom:"auto"}))}function j(b){var c=a(b).find('.spu-facebook'),e,d;c.length&&(e=c.find('.fb-like > span').width(),e==0&&(d=c.find('.fb-like').data('layout'),d=='box_count'?c.append('<style type="text/css"> #'+a(b).attr('id')+' .fb-like iframe, #'+a(b).attr('id')+' .fb_iframe_widget span, #'+a(b).attr('id')+' .fb_iframe_widget{ height: 63px !important;width: 80px !important;}</style>'):d=='button_count'?c.append('<style type="text/css"> #'+a(b).attr('id')+' .fb-like iframe, #'+a(b).attr('id')+' .fb_iframe_widget span, #'+a(b).attr('id')+' .fb_iframe_widget{ height: 20px !important;min-width: 120px !important;}</style>'):c.append('<style type="text/css"> #'+a(b).attr('id')+' .fb-like iframe, #'+a(b).attr('id')+' .fb_iframe_widget span, #'+a(b).attr('id')+' .fb_iframe_widget{ height: 20px !important;width: 80px !important;}</style>')))}function k(f){var b=f,c=b.data('total'),d,e,g,h;c&&(d=0,e=0,g=b.outerWidth(),h=b.find(".spu-content").width(),!spuvar.disable_style&&a(window).width()>g&&(b.find(".spu-shortcode").wrapAll('<div class="spu_shortcodes"/>'),b.find(".spu-shortcode").each(function(){d=d+a(this).outerWidth()}),e=h-d-c*20),e>0&&(b.find(".spu-shortcode").each(function(){a(this).css('margin-left',e/2)}),c==2?b.find(".spu-shortcode").last().css('margin-left',0):c==3&&b.find(".spu-shortcode").first().css('margin-left',0)))}function c(i,c,e){var b=d[i],j=a('#spu-bg-'+i),q=b.data('bgopa'),o,n,p,h,m,l;return!b.is(":animated")&&(!(c===!0&&b.is(":visible")||c===!1&&b.is(":hidden"))&&(c===!1?(o=b.data('tclose-cookie'),n=parseFloat(b.data('dclose-cookie')),p=b.data('nclose-cookie'),e===!0&&(o=b.data('tconvert-cookie'),n=parseFloat(b.data('dconvert-cookie')),p=b.data('nconvert-cookie')),n>0&&g(p,!0,o,n),b.trigger('spu.box_close',[i]),h=b.find('iframe[src*="vimeo"],iframe[src*="youtube"],iframe[src*="youtu.be"]'),h&&h.length&&h.each(function(){a(this).attr('src','http://#')})):(setTimeout(function(){k(b)},1500),b.trigger('spu.box_open',[i]),a(window).resize(function(){f(i)}),f(i),h=b.find('iframe'),h&&h.length&&h.each(function(){a(this).attr('spusrc')&&a(this).attr('src',a(this).attr('spusrc'))})),m=b.data('spuanimation'),l=b.data('close-on-conversion'),m==='fade'?c===!0?b.fadeIn('slow'):c===!1&&(l&&e||!e)&&b.fadeOut('slow'):m==='disable'?c===!0?b.show():c===!1&&(l&&e||!e)&&b.hide():c===!0?b.slideDown('slow'):c===!1&&(l&&e||!e)&&b.slideUp('slow'),c===!0&&q>0&&!b.hasClass('spu-top-bar')&&!b.hasClass('spu-bottom-bar')?m==='disable'?j.show():j.fadeIn():c===!1&&(l&&e||!e)&&(m==='disable'?j.hide():j.fadeOut()),c))}return{show:function(a){return c(a,!0,!1)},hide:function(a,b){return c(a,!1,b)},resize:function(a){return f(a)},request:function(a,c,d,e){return b(a,c,d,e)}}},l,i,h,f,j;spuvar.ajax_mode?(l={pid:spuvar.pid,referrer:document.referrer,current_url:document.documentURI,query_string:document.location.search,is_category:spuvar.is_category,is_archive:spuvar.is_archive,is_preview:spuvar.is_preview},i=function(b){a('body').append(b),a(".spu-box").imagesLoaded(function(){window.SPU=c(),m()})},h=function(c,a,b){console.log('Problem loading popups - error: '+a+' - '+b)},b(l,spuvar.ajax_mode_url,i,h,'html')):a(".spu-box").imagesLoaded(function(){window.SPU=c()});function b(g,f,c,d,e){var b={url:spuvar.ajax_url,data:g,cache:!1,type:'POST',dataType:'json',timeout:3e4},e=e||!1,c=c||!1,d=d||!1;f&&(b.url=f),c&&(b.success=c),d&&(b.error=d),e&&(b.dataType=e),a.ajax(b)}function g(d,e,f,b){var a,c;b?(a=new Date,f=='h'?a.setTime(a.getTime()+b*60*60*1e3):a.setTime(a.getTime()+b*24*60*60*1e3),c="; expires="+a.toGMTString()):(c=""),document.cookie=d+"="+e+c+"; path=/"}function e(e){for(var c=e+"=",d=document.cookie.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1,a.length);if(a.indexOf(c)==0)return a.substring(c.length,a.length)}return null}if(f=!1,j=setInterval(function(){typeof FB!='undefined'&&!f&&k()},1e3),typeof twttr!='undefined')try{twttr.ready(function(a){a.events.bind('tweet',d),a.events.bind('follow',d)})}catch(a){}function k(){try{FB.Event.subscribe('edge.create',function(d,c){var b=a(c).parents('.spu-box').data('box-id');b&&SPU.hide(b,!1,!0)})}catch(a){}f=!0,clearInterval(j)}function d(c){var b=a(c.target).parents('.spu-box').data('box-id');b&&SPU.hide(b,!1,!0)}function n(b){if("on"==b.state){var a=jQuery('.spu-gogl').data('box-id');a&&SPU.hide(a,!1,!0)}}function o(b){if("confirm"==b.type){var a=jQuery('.spu-gogl').data('box-id');a&&SPU.hide(a,!1,!0)}}function p(){if(typeof spuvar_social!='undefined'&&spuvar_social.facebook)try{FB.XFBML.parse()}catch(a){}if(typeof spuvar_social!='undefined'&&spuvar_social.google)try{gapi.plusone.go()}catch(a){}if(typeof spuvar_social!='undefined'&&spuvar_social.twitter)try{twttr.widgets.load()}catch(a){}}function m(){a('.spu-box form').each(function(){var b=a(this).attr('action');b&&a(this).attr('action',b.replace('?spu_action=spu_load',''))}),typeof wpcf7!='undefined'&&wpcf7!==null&&wpcf7.initForm&&a('.spu-box div.wpcf7 > form').each(function(){wpcf7.initForm(a(this)),wpcf7.cached&&wpcf7.refill(a(this))}),a.fn.wpcf7InitForm&&a('.spu-box div.wpcf7 > form').wpcf7InitForm()}}(jQuery)